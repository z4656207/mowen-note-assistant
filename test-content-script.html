<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="这是一个测试页面，用于验证内容脚本功能">
    <title>内容脚本测试页面</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .header {
            background: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
        }
        
        .content {
            background: white;
            padding: 20px;
        }
        
        .sidebar {
            background: #e0e0e0;
            padding: 10px;
            margin: 20px 0;
        }
        
        .footer {
            background: #f0f0f0;
            padding: 10px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <header class="header">
        <h1>网站头部</h1>
        <nav>
            <a href="#">首页</a>
            <a href="#">关于</a>
            <a href="#">联系</a>
        </nav>
    </header>

    <main class="content">
        <h1>主要内容标题</h1>
        <p>这是第一段内容。这段文字应该被内容脚本提取到。</p>

        <h2>子标题</h2>
        <p>这是第二段内容。包含了一些重要的信息，应该被完整提取。</p>

        <ul>
            <li>列表项目1</li>
            <li>列表项目2</li>
            <li>列表项目3</li>
        </ul>

        <h3>另一个子标题</h3>
        <p>最后一段内容。这里有一些<strong>重要的</strong>信息需要被提取。</p>

        <div>
            <p>这是一个div中的段落，也应该被提取。</p>
        </div>
    </main>

    <aside class="sidebar">
        <h3>侧边栏</h3>
        <p>这是侧边栏内容，通常不应该被提取。</p>
    </aside>

    <footer class="footer">
        <p>这是页脚内容，也不应该被提取。</p>
    </footer>

    <script>
        // 测试脚本
        console.log('测试页面已加载');

        // 添加一个按钮来手动测试内容提取
        const testButton = document.createElement('button');
        testButton.textContent = '测试内容提取';
        testButton.style.position = 'fixed';
        testButton.style.top = '10px';
        testButton.style.right = '10px';
        testButton.style.zIndex = '9999';
        testButton.style.padding = '10px';
        testButton.style.background = '#007cba';
        testButton.style.color = 'white';
        testButton.style.border = 'none';
        testButton.style.borderRadius = '5px';
        testButton.style.cursor = 'pointer';

        testButton.addEventListener('click', () => {
            // 模拟发送消息给内容脚本
            if (window.chrome && chrome.runtime) {
                chrome.runtime.sendMessage({
                    action: 'extractContent'
                }, (response) => {
                    console.log('内容提取结果:', response);
                    alert('内容提取完成，请查看控制台');
                });
            } else {
                alert('请在Chrome扩展环境中测试');
            }
        });

        document.body.appendChild(testButton);
    </script>
</body>

</html>