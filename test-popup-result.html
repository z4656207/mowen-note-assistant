<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>弹窗结果显示测试</title>
    <link rel="stylesheet" href="popup.css">
    <style>
        body {
            padding: 20px;
            background: #f0f0f0;
        }
        
        .test-container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        
        .button:hover {
            background: #5a67d8;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <div class="test-section">
            <h2>🧪 弹窗结果显示测试</h2>
            <p>这个页面用于测试弹窗中结果显示区域的滚动功能。</p>

            <div style="margin: 20px 0;">
                <button class="button" onclick="showShortResult()">显示短结果</button>
                <button class="button" onclick="showLongResult()">显示长结果</button>
                <button class="button" onclick="showVeryLongResult()">显示超长结果</button>
                <button class="button" onclick="hideResult()">隐藏结果</button>
            </div>
        </div>

        <!-- 模拟弹窗容器 -->
        <div class="container">
            <!-- 头部 -->
            <header class="header">
                <div class="logo">
                    <img src="icons/icon48.png" alt="墨问笔记助手" class="logo-img">
                    <h1 class="title">墨问笔记助手</h1>
                </div>
                <button class="settings-btn" title="设置">⚙️</button>
            </header>

            <!-- 主要内容区域 -->
            <main class="main">
                <!-- 页面信息预览 -->
                <div class="page-info">
                    <div class="page-title">测试页面标题</div>
                    <div class="page-url">https://example.com/test-page</div>
                </div>

                <!-- 发布设置 -->
                <div class="publish-settings">
                    <div class="setting-item">
                        <label class="toggle-label">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">发布公开笔记</span>
                        </label>
                        <div class="setting-help">关闭后笔记将发布为私有</div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="actions">
                    <button class="btn btn-primary">
                        📝 <span>提取并发布到墨问</span>
                    </button>
                </div>

                <!-- 状态显示 -->
                <div class="status" style="display: none;">状态信息</div>

                <!-- 结果显示 -->
                <div id="result" class="result" style="display: none;">
                    <div class="result-header">
                        <h3>处理结果</h3>
                        <button class="close-btn" onclick="hideResult()">×</button>
                    </div>
                    <div class="result-content" id="resultContent">
                        <!-- 结果内容将在这里显示 -->
                    </div>
                </div>
            </main>

            <!-- 底部 -->
            <footer class="footer">
                <div class="footer-links">
                    <a href="#">使用帮助</a>
                    <a href="#">意见反馈</a>
                </div>
            </footer>
        </div>

        <div class="test-section">
            <h3>📋 测试说明</h3>
            <ul>
                <li><strong>短结果：</strong> 测试正常长度的结果显示</li>
                <li><strong>长结果：</strong> 测试需要滚动的结果显示</li>
                <li><strong>超长结果：</strong> 测试大量内容的滚动性能</li>
            </ul>

            <h4>预期效果：</h4>
            <ul>
                <li>✅ 结果区域最大高度为300px</li>
                <li>✅ 内容超出时显示垂直滚动条</li>
                <li>✅ 滚动条样式美观，宽度为6px</li>
                <li>✅ 结果头部保持固定，不随内容滚动</li>
                <li>✅ 整体弹窗高度适中，不会过高</li>
            </ul>
        </div>
    </div>

    <script>
        function showShortResult() {
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');

            resultContent.innerHTML = `
                <div style="margin-bottom: 16px;">
                    <strong>✅ 笔记创建并公开发布成功</strong><br>
                    <small>笔记ID: note_123456789</small>
                </div>
                <div style="margin-bottom: 16px;">
                    <strong>🤖 AI智能总结结果:</strong><br>
                    <small>标题: 测试文章标题</small><br>
                    <small>段落数: 3</small><br>
                    <small>标签: 测试, 示例, 技术</small>
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>✅ 发布成功！</strong><br>
                    <a href="#" style="color: #5e72e4; text-decoration: none;">📝 查看笔记</a>
                </div>
                <div style="color: #6c757d; font-size: 12px;">
                    📊 字数统计: 1,234 字
                </div>
            `;

            resultDiv.style.display = 'block';
        }

        function showLongResult() {
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');

            resultContent.innerHTML = `
                <div style="margin-bottom: 16px;">
                    <strong>✅ 笔记创建并公开发布成功</strong><br>
                    <small>笔记ID: note_123456789</small>
                </div>
                <div style="margin-bottom: 16px;">
                    <strong>🤖 AI全文整理结果:</strong><br>
                    <small>标题: 深度学习在自然语言处理中的应用与发展趋势</small><br>
                    <small>段落数: 12</small><br>
                    <small>标签: 深度学习, NLP, 人工智能, 机器学习, 神经网络</small>
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>📄 内容摘要:</strong><br>
                    <div style="background: #f8f9fa; padding: 12px; border-radius: 6px; margin: 8px 0;">
                        本文详细介绍了深度学习技术在自然语言处理领域的重要应用，包括：
                        <ul>
                            <li>Transformer架构的革命性影响</li>
                            <li>BERT、GPT等预训练模型的发展历程</li>
                            <li>多模态学习在NLP中的应用</li>
                            <li>大语言模型的能力边界与局限性</li>
                            <li>未来发展趋势与技术挑战</li>
                        </ul>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>🔍 关键技术点:</strong><br>
                    <div style="background: #e3f2fd; padding: 12px; border-radius: 6px; margin: 8px 0;">
                        <p><strong>1. 注意力机制：</strong>Self-Attention和Multi-Head Attention的工作原理</p>
                        <p><strong>2. 预训练策略：</strong>掩码语言模型(MLM)和下一句预测(NSP)</p>
                        <p><strong>3. 微调技术：</strong>任务特定的fine-tuning方法</p>
                        <p><strong>4. 模型压缩：</strong>知识蒸馏、剪枝、量化等优化技术</p>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>✅ 发布成功！</strong><br>
                    <a href="#" style="color: #5e72e4; text-decoration: none;">📝 查看笔记</a>
                </div>
                <div style="color: #6c757d; font-size: 12px;">
                    📊 字数统计: 5,678 字<br>
                    ⏱️ 处理时间: 45秒<br>
                    🔗 来源: https://example.com/deep-learning-nlp
                </div>
            `;

            resultDiv.style.display = 'block';
        }

        function showVeryLongResult() {
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');

            let longContent = `
                <div style="margin-bottom: 16px;">
                    <strong>✅ 笔记创建并公开发布成功</strong><br>
                    <small>笔记ID: note_987654321</small>
                </div>
                <div style="margin-bottom: 16px;">
                    <strong>🤖 AI全文整理结果:</strong><br>
                    <small>标题: 人工智能技术发展史：从图灵测试到ChatGPT的演进之路</small><br>
                    <small>段落数: 25</small><br>
                    <small>标签: 人工智能, 机器学习, 深度学习, 神经网络, 自然语言处理, 计算机视觉</small>
                </div>
            `;

            // 生成大量内容来测试滚动
            for (let i = 1; i <= 15; i++) {
                longContent += `
                    <div style="margin-bottom: 15px;">
                        <strong>📖 第${i}章节：</strong><br>
                        <div style="background: ${i % 2 === 0 ? '#f8f9fa' : '#e3f2fd'}; padding: 12px; border-radius: 6px; margin: 8px 0;">
                            <p><strong>章节标题：</strong>人工智能发展的第${i}个重要阶段</p>
                            <p>这一章节详细介绍了人工智能在第${i}个发展阶段的重要突破和技术创新。包括算法改进、硬件发展、应用场景扩展等多个方面的内容。</p>
                            <ul>
                                <li>技术突破点${i}.1：算法优化与性能提升</li>
                                <li>技术突破点${i}.2：硬件架构的革新</li>
                                <li>技术突破点${i}.3：应用领域的拓展</li>
                                <li>技术突破点${i}.4：产业化进程的加速</li>
                            </ul>
                            <p><em>这个阶段的发展为后续的技术进步奠定了坚实的基础，影响深远。</em></p>
                        </div>
                    </div>
                `;
            }

            longContent += `
                <div style="margin-bottom: 15px;">
                    <strong>✅ 发布成功！</strong><br>
                    <a href="#" style="color: #5e72e4; text-decoration: none;">📝 查看笔记</a>
                </div>
                <div style="color: #6c757d; font-size: 12px;">
                    📊 字数统计: 15,432 字<br>
                    ⏱️ 处理时间: 2分30秒<br>
                    🔗 来源: https://example.com/ai-history-comprehensive<br>
                    📈 内容质量评分: 95/100
                </div>
            `;

            resultContent.innerHTML = longContent;
            resultDiv.style.display = 'block';
        }

        function hideResult() {
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'none';
        }

        // 页面加载完成后的提示
        document.addEventListener('DOMContentLoaded', function() {
            console.log('弹窗结果显示测试页面已加载');
        });
    </script>
</body>

</html>