# 墨问笔记助手 - 安装和使用指南

## 📦 安装步骤

### 1. 准备工作

在开始之前，请确保您具备以下条件：

- ✅ Chrome浏览器（版本88或更高）
- ✅ 墨问Pro会员账号
- ✅ AI服务API密钥（OpenAI、Claude等）

### 2. 下载插件

1. 下载或克隆本项目到本地
2. 解压到任意文件夹（如：`D:\mowen-plugin`）

### 3. 准备图标文件

由于版权原因，项目中不包含图标文件。请准备以下图标：

- `icons/icon16.png` (16x16像素)
- `icons/icon48.png` (48x48像素)  
- `icons/icon128.png` (128x128像素)

您可以：
- 自己设计图标
- 从免费图标库下载（如 [Flaticon](https://www.flaticon.com)）
- 使用在线图标生成器

### 4. 安装到Chrome

1. 打开Chrome浏览器
2. 在地址栏输入：`chrome://extensions/`
3. 开启右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"按钮
5. 选择插件文件夹（包含manifest.json的文件夹）
6. 点击"选择文件夹"

安装成功后，您会在浏览器工具栏看到插件图标。

## ⚙️ 配置设置

### 1. 打开设置页面

- 方法一：右键点击插件图标 → 选择"选项"
- 方法二：点击插件图标 → 点击设置按钮（齿轮图标）

### 2. 配置AI模型

填写以下信息：

**AI API地址**
```
# OpenAI官方
https://api.openai.com/v1/chat/completions

# Azure OpenAI (示例)
https://your-resource.openai.azure.com/openai/deployments/your-deployment/chat/completions?api-version=2023-05-15

# 其他兼容服务
https://api.your-provider.com/v1/chat/completions
```

**AI API密钥**
```
# OpenAI格式
sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# 其他服务商的密钥格式可能不同
```

**AI模型名称**
```
# 推荐模型
gpt-3.5-turbo      # 性价比高，速度快
gpt-4              # 质量更高
gpt-4-turbo        # 平衡性能和成本
claude-3-sonnet    # Anthropic Claude
```

### 3. 配置墨问API

**获取墨问API密钥**

1. 访问 [墨问开放平台](https://open.mowen.cn)
2. 登录您的墨问Pro账号
3. 进入开发者设置
4. 生成API密钥
5. 复制密钥到插件设置中

### 4. 高级设置

- **自动发布笔记**：勾选后创建的笔记会公开发布，否则发布为私有笔记
- **包含来源链接**：勾选后会在笔记中添加原网页链接

### 5. 测试配置

1. 填写完所有配置后，点击"测试连接"按钮
2. 等待测试完成
3. 如果显示"所有API连接测试成功"，说明配置正确
4. 点击"保存设置"

## 🚀 使用方法

### 基本使用流程

1. **打开目标网页**
   - 访问您想要保存的网页
   - 等待页面完全加载

2. **启动插件**
   - 点击浏览器工具栏中的插件图标
   - 查看页面信息预览

3. **提取并发布**
   - 点击"提取并发布到墨问"按钮
   - 等待AI处理（通常需要10-30秒）
   - 查看处理结果

### 适用的网页类型

✅ **推荐使用的页面**
- 新闻文章
- 博客文章
- 技术文档
- 学术论文
- 产品介绍页面

❌ **不适合的页面**
- 视频页面
- 图片画廊
- 社交媒体动态
- 购物车页面
- 登录页面

### 处理结果说明

成功处理后，您会看到：

- ✅ **笔记创建成功**：显示笔记ID
- 📝 **AI整理结果**：显示标题、段落数、标签
- 🕒 **处理时间**：记录处理完成的时间

## 🔧 故障排除

### 常见错误及解决方法

**1. "请先在设置页面配置API密钥"**
- 检查所有必填字段是否已填写
- 确认API密钥格式正确（没有多余空格）

**2. "AI API调用失败"**
- 检查API地址是否正确
- 确认API密钥是否有效且有余额
- 检查网络连接是否正常

**3. "墨问API调用失败"**
- 确认是否为墨问Pro会员
- 检查API密钥是否过期
- 确认今日API配额是否用完

**4. "提取页面内容失败"**
- 刷新页面后重试
- 检查页面是否完全加载
- 尝试在其他页面使用

**5. "AI返回的内容格式不正确"**
- 可能是AI模型返回了非JSON格式
- 尝试更换AI模型
- 检查API配置是否正确

### 调试技巧

1. **查看控制台日志**
   - 按F12打开开发者工具
   - 查看Console面板的错误信息

2. **检查网络请求**
   - 在Network面板查看API请求状态
   - 检查请求和响应内容

3. **重新加载插件**
   - 在`chrome://extensions/`页面
   - 点击插件的"重新加载"按钮

## 📊 使用限制

### API配额限制

**墨问API**
- 笔记创建：100次/天
- 笔记编辑：1000次/天
- 限频：1次/秒

**AI API**
- 根据您的服务商套餐而定
- 建议使用GPT-3.5-turbo以节省成本

### 内容限制

- 单篇笔记字数限制：根据墨问平台规定
- 建议处理中等长度的文章（1000-5000字）
- 过长的内容可能导致AI处理超时

## 🔒 隐私和安全

### 数据处理流程

1. **本地提取**：网页内容在本地提取，不上传到插件服务器
2. **AI处理**：内容发送到您配置的AI服务商进行处理
3. **墨问发布**：处理后的内容通过墨问API发布到您的账号

### 安全建议

- 定期更换API密钥
- 不要在公共电脑上保存配置
- 注意保护您的墨问账号安全
- 如有安全疑虑，可随时清除插件配置

## 📞 获取帮助

如果您遇到问题，可以通过以下方式获取帮助：

1. **查看文档**：仔细阅读本指南和README.md
2. **检查配置**：使用"测试连接"功能验证配置
3. **查看日志**：使用浏览器开发者工具查看错误信息
4. **联系支持**：通过GitHub Issues或墨问社区寻求帮助

---

**祝您使用愉快！** 🎉 